{"name":"FBF Format","tagline":"FBF Format File","body":"#FBF Format File\r\n\r\n##What's the FBF Format File\r\n\r\nFBF文件全称为Flash Bitmap Font ，顾名思义，就是将位图作为字体文件。\r\n\r\n\r\n##FBF Format File Data\r\n\r\n###Header部分\r\n\t数据头\r\n\tFBF        4字节 uint 0x464246 \"FBF\"的ASCII编码\r\n\tversion    2字节 int      1     版本号\r\n\r\n\t字符索引数据段\r\n\ttype       2字节 int      0     始终为0，表示当前数据为 字符索引数据段\r\n\tindex_pos  4字节 uint     n     字符索引数据的起始下标\r\n\tnum block  4字节 uint     n     字符表的数量\r\n\r\n\tpng图片数据属性数据段\r\n\ttype       2字节 int      1      始终为1，表示当前数据为 png图片数据属性数据段\r\n\tindex_png  4字节 uint     n      png图片数据起始点\r\n\r\n###字符索引数据数据表\r\n\tstr        n字符 UTF-8编码        字符内容\r\n\tX          4字符 float单精度浮点数 X坐标\r\n\tY          4字符 float单精度浮点数 Y坐标\r\n\tW          4字符 float单精度浮点数 宽度\r\n\tH          4字符 float单精度浮点数 高度\r\n\r\n###PNG图片数据\r\n\t图片仅为一张，使用MaxRect算法生成，所有数据均无小数点，正整数\r\n\r\n##如何使用库\r\n\r\n###AS3版本\r\n\r\n首先引入需要的类\r\n```ActionScript3\r\n\timport com.mebius.format.fbf.FBFErrorEvent;\r\n\timport com.mebius.format.fbf.FBFManage;\r\n```\r\n\r\n创建一个FBFManage对象，并初始化\r\n```ActionScript3\r\n\tprivate var _fontM:FBFManage ;\r\n\tthis._fontM = new FBFManage();\r\n\r\n\tthis._fontM.addEventListener( FBFErrorEvent.SYSTEM_IO_ERROR, fbfError1_event);\r\n\tthis._fontM.addEventListener( FBFErrorEvent.FILE_NOT_FOUND, fbfError2_event);\r\n\tthis._fontM.addEventListener( FBFErrorEvent.FILE_TYPE_ERROR, fbfError3_event);\r\n\tthis._fontM.addEventListener( FBFErrorEvent.VERSION_UNRECOGNIZED_ERROR, fbfError4_event);\r\n\tthis._fontM.addEventListener( FBFErrorEvent.FILE_CORRUPTION_ERROR, fbfError5_event);\r\n\tthis._fontM.addEventListener( FBFErrorEvent.IMAGE_DATA_CORRUPTION_ERROR, fbfError6_event);\r\n\tthis._fontM.addEventListener( FBFErrorEvent.CHAR_NOT_FOUND, fbfError7_event);\r\n```\r\n\r\n读取指定的FBF文件\r\n```ActionScript3\r\n\tthis._fontM.readFBF( File.applicationDirectory.nativePath+\"/myFBF_file.fbf\" );\r\n```\r\n\r\n字体的使用，通过FBFFontManage字体管理类来对加载的FBF字体文件进行使用\r\n```ActionScript3\r\n\tprivate var _fbfFontManage:FBFFontManage;\r\n\tthis._fbfFontManage = new FBFFontManage();\r\n\tthis._fbfFontManage.addEventListener( Event.COMPLETE, fontInitComplete );\r\n\tthis._fbfFontManage.setFBF(\"自定义字体名称\",this._fontM );\r\n```\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}